# App vs Web: Detailed Comparison & Analysis

This document provides a detailed side-by-side analysis of the `app` (Flutter Mobile) and `web` (React Frontend) directories, highlighting their architectural differences, feature sets, and intended use cases.

## 1. High-Level Overview

| Feature | Mobile App (`/app`) | Web Application (`/web`) |
| :--- | :--- | :--- |
| **Framework** | Flutter (Dart) | React (TypeScript) + Vite |
| **Platform** | Android & iOS | Web Browsers (Desktop/Mobile) |
| **Primary Audience** | **Patients** (Individuals) | **Patients, Doctors, Hospitals, Admins** |
| **State Management** | Riverpod | React Context / Hooks |
| **Routing** | GoRouter (`go_router`) | React Router (`react-router-dom`) |
| **Styling** | Flutter Widgets / Material | CSS Modules / Styled Components |

---

## 2. Directory Structure Comparison

### 2.1. Mobile App (`app/lib`)
The mobile app follows a **Feature-First Architecture** where each feature module is self-contained.

*   `core/`: Application-level configurations (Themes, Router setup, Constants).
*   `features/`: specific modules containing their own **UI, Logic (Providers), and Data layers**.
    *   Example: `features/ai_doctor` contains the UI screens and logic for the AI assistant.
*   `shared/`: Reusable widgets used across multiple features (e.g., custom buttons, loading indicators).

### 2.2. Web App (`web/src`)
The web app follows a **Layered Architecture** common in React projects.

*   `features/`: Contains **business logic and specific components** (e.g., `doctor/DoctorList.tsx`).
*   `pages/`: The **Entry Views** corresponding to routes. These pages assemble components from `features/`.
    *   Example: `pages/dashboard` imports widgets from `features/dashboard` and `features/doctor`.
*   `routes/`: Centralized routing configuration (`AppRoutes` or similar).
*   `lib/`: Core utilities (Supabase client, i18n setup).
*   `context/`: Global state providers (likely AuthContext, ThemeContext).

**Key Difference**: In the Mobile App, a "Feature" often owns its "Page". In the Web App, "Pages" are distinct from "Features" (Features are treated more like specialized component libraries).

---

## 3. Feature Set Differences

The **Web Application** is significantly more expansive in scope than the Mobile App.

### 3.1. Exclusive to Web (`web/src/features`)
These features are **NOT** present in the mobile app `app/lib/features`:

1.  **Doctor Portal** (`features/doctor`, `features/appointments`)
    *   `DoctorAppointments.tsx`: Manage incoming patient bookings.
    *   `DoctorChambers.tsx`: Manage clinic locations and timings.
    *   `DoctorMyPatients.tsx`: View patient history and records.
    *   **Reason**: Doctors are expected to use the web interface for detailed innovative work.
2.  **Hospital Management** (`features/hospital`)
    *   Manage blood bank inventory.
    *   Coordinate emergency responses.
3.  **Advanced Diagnostics** (`features/diagnostic`)
    *   Likely for lab technicians or detailed report viewing not suitable for mobile screens.
4.  **Notifications Management** (`features/notifications`)
    *   While the App *receives* notifications, the Web likely has a panel to *manage/send* or view history in detail.

### 3.2. Shared Features (Patient Centric)
Both platforms support these patient-facing features:

*   **Auth**: Login/Register (Supabase Auth).
*   **AI Doctor**: Chat interface for symptom triage.
*   **Timeline**: Medical history tracking.
*   **Blood**: Donor search and request creation.
*   **Profile**: User settings and bio-data.

---

## 4. Technical Implementation Details

### 4.1. Network & API
*   **App**: Uses `supabase_flutter` plugin.
*   **Web**: Uses `@supabase/supabase-js` client (`src/lib/supabaseClient.ts`).
*   **Consistency**: Both point to the same Supabase backend and use the same database tables/Edge Functions.

### 4.2. Internationalization (i18n)
*   **App**: Uses `flutter_localizations` and `.arb` files (standard Flutter approach).
*   **Web**: Uses `i18next` and `react-i18next` (`src/lib/i18n.ts`).

### 4.3. Assets
*   **App**: `assets/` folder defined in `pubspec.yaml`.
*   **Web**: `public/` directory for static assets or `src/assets` for imported images.

---

## 5. Summary Recommendation
*   **For Patient Experience**: The **Mobile App** is the primary interface. It is optimized for quick access, emergencies, and daily health tracking.
*   **For Providers & Admin**: The **Web App** is the powerhouse. It allows Doctors and Hospitals to manage the data that populates the patients' apps. Users can also use the Web App as a patient portal if they prefer a desktop view.
